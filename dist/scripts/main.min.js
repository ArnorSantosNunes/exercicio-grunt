let numberButtons=document.querySelectorAll("[data-number]"),operationButtons=document.querySelectorAll("[data-operator]"),equalsButton=document.querySelector("[data-equals]"),deleteButton=document.querySelector("[data-delete]"),allclearButton=document.querySelector("[data-all-clear]"),previousOperandTextElement=document.querySelector("[data-previous-operand]"),currentOperandTextElement=document.querySelector("[data-current-operand]");class Calculator{constructor(e,t){this.previousOperandTextElement=e,this.currentOperandTextElement=t,this.clear()}formatDisplayNumber(e){var e=e.toString(),t=parseFloat(e.split(".")[0]),e=e.split(".")[1];let r;return r=isNaN(t)?"":t.toLocaleString("en",{maximumFractionDigits:0}),null!=e?r+"."+e:r}delete(){this.currentOperand=this.currentOperand.toString().slice(0,-1)}calculate(){let e;var t=parseFloat(this.previousOperand),r=parseFloat(this.currentOperand);if(!isNaN(t)&&!isNaN(r)){switch(this.operation){case"+":e=t+r;break;case"-":e=t-r;break;case"/":e=t/r;break;case"*":e=t*r;break;default:return}this.currentOperand=e,this.operation=void 0,this.previousOperand=""}}chooseOperation(e){""!==this.currentOperand&&""!==this.currentOperand&&(""!==this.previousOperand&&this.calculate(),this.operation=e,this.previousOperand=this.currentOperand,this.currentOperand="")}clear(){this.currentOperand="",this.previousOperand="",this.operation=void 0}appendNumber(e){this.currentOperand=""+this.currentOperand+e}updateDisplay(){this.previousOperandTextElement.innerText=this.formatDisplayNumber(this.currentOperand)+" "+(this.operation||""),this.currentOperandTextElement.innerText=this.formatDisplayNumber(this.currentOperand)}}let calculator=new Calculator(previousOperandTextElement,currentOperandTextElement);numberButtons.forEach(e=>{e.addEventListener("click",()=>{calculator.appendNumber(e.innerText),calculator.updateDisplay()})}),operationButtons.forEach(e=>{e.addEventListener("click",()=>{calculator.chooseOperation(e.innerText),calculator.updateDisplay()})}),allclearButton.addEventListener("click",()=>{calculator.clear(),calculator.updateDisplay()}),equalsButton.addEventListener("click",()=>{calculator.calculate(),calculator.updateDisplay()}),equalsButton.addEventListener("click",()=>{calculator.calculate(),calculator.updateDisplay()}),deleteButton.addEventListener("click",()=>{calculator.delete(),calculator.updateDisplay()});